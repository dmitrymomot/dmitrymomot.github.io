---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const legalPages = await getCollection('legal');
  return legalPages.map(page => ({
    params: { legal: page.id },
    props: { page },
  }));
}

const { page } = Astro.props;
const { Content } = await render(page);
---

<Layout
  title={`${page.data.title} - Dmytro Momot`}
  description={page.data.description}
>
  <!-- Hero -->
  <section class="bg-[#16171B]">
    <div class="max-w-[1280px] mx-auto flex flex-col gap-4 pt-[60px] pb-10 px-6 lg:px-[320px]">
      <span class="font-mono text-sm font-semibold text-[#22C55E]">// LEGAL</span>
      <h1 class="text-[42px] font-bold text-[#F4F4F5] leading-tight" style="font-family: 'Space Grotesk', sans-serif; letter-spacing: -1px;">
        {page.data.title}
      </h1>
      <span class="font-mono text-xs font-medium text-[#52525B]">
        Last updated: {page.data.lastUpdated.toLocaleDateString('en-US', {
          month: 'long',
          day: 'numeric',
          year: 'numeric'
        })}
      </span>
    </div>
  </section>

  <!-- Content -->
  <main class="bg-[#16171B]">
    <div class="max-w-[1280px] mx-auto px-6 lg:px-[320px] pb-20">
      <article class="prose-custom">
        <Content />
      </article>
    </div>
  </main>

  <div class="h-px bg-[#2A2B30]"></div>
  <Footer />
</Layout>
