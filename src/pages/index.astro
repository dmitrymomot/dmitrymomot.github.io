---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';
import { getEntry } from 'astro:content';

const homePage = await getEntry('pages', 'home');
const { title, description, hero, whatIDo, techStack, about, social } = homePage.data;

const ctaIcons: Record<string, string> = {
  github: `<svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>`,
  linkedin: `<svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect width="4" height="12" x="2" y="9"/><circle cx="4" cy="4" r="2"/></svg>`,
};

const icons: Record<string, string> = {
  terminal: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>`,
  users: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>`,
  rocket: `<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>`,
};
---

<Layout title={title} description={description}>
  <!-- Hero -->
  <section class="max-w-[1440px] mx-auto flex flex-col gap-8 py-[100px] px-6 lg:px-[120px]">
    <p class="font-mono text-sm font-semibold text-[#22C55E]">{hero.label}</p>
    <div class="flex flex-col gap-2">
      <h1 class="text-5xl md:text-[72px] font-bold leading-tight text-[#F4F4F5]" style="font-family: 'Space Grotesk', sans-serif; letter-spacing: -2px;">
        {title}
      </h1>
      <p class="text-2xl md:text-4xl font-bold text-[#52525B]" style="font-family: 'Space Grotesk', sans-serif; letter-spacing: -1px;">
        {hero.role}
      </p>
    </div>
    <p class="text-lg text-[#71717A] max-w-[700px]" style="line-height: 1.6;">
      {hero.tagline}
    </p>
    <div class="flex flex-wrap gap-4">
      {hero.ctas.map((cta) => (
        <a
          href={cta.url}
          target={cta.url.startsWith('http') ? '_blank' : undefined}
          class:list={[
            "inline-flex items-center gap-2 py-3.5 px-7 font-mono text-[13px] uppercase tracking-wider rounded transition-colors",
            cta.style === 'filled'
              ? "bg-[#22C55E] text-[#16171B] font-bold hover:bg-[#16A34A]"
              : "border border-[#2A2B30] text-[#71717A] font-semibold hover:text-zinc-300 hover:border-zinc-600"
          ]}
        >
          {cta.icon && <span set:html={ctaIcons[cta.icon] || ''} />}
          {cta.text}
        </a>
      ))}
    </div>
  </section>

  <div class="h-px bg-[#2A2B30]"></div>

  <!-- What I Do -->
  <section class="max-w-[1440px] mx-auto flex flex-col gap-12 py-20 px-6 lg:px-[120px]">
    <p class="font-mono text-[11px] font-semibold text-[#71717A]">// WHAT_I_DO</p>
    <div class="grid md:grid-cols-3 gap-6">
      {whatIDo.map((card) => (
        <div class="border border-[#2A2B30] rounded p-7 flex flex-col gap-5">
          <div class="text-[#22C55E]" set:html={icons[card.icon] || ''} />
          <h3 class="text-lg font-bold text-[#F4F4F5]" style="font-family: 'Space Grotesk', sans-serif;">{card.title}</h3>
          <p class="text-sm text-[#71717A]" style="line-height: 1.5;">{card.description}</p>
          <div class="flex flex-wrap gap-2">
            {card.tags.map((tag) => (
              <span class="border border-[#3F3F46] rounded-sm px-2.5 py-1 font-mono text-[10px] font-medium text-[#52525B]">
                {tag}
              </span>
            ))}
          </div>
        </div>
      ))}
    </div>
  </section>

  <div class="h-px bg-[#2A2B30]"></div>

  <!-- Tech Stack -->
  <section class="bg-[#1E2026]">
    <div class="max-w-[1440px] mx-auto flex flex-col gap-12 py-20 px-6 lg:px-[120px]">
      <p class="font-mono text-[11px] font-semibold text-[#71717A]">// TECH_STACK</p>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-12">
        {techStack.map((column) => (
          <div class="flex flex-col gap-6">
            <h3 class="font-mono text-xs font-bold text-[#22C55E] uppercase tracking-wider">{column.title}</h3>
            <ul class="flex flex-col gap-3">
              {column.items.map((item) => (
                <li class:list={[
                  "text-[15px]",
                  item.primary ? "text-[#F4F4F5]" : "text-[#52525B]"
                ]}>
                  {item.name}
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>

  <div class="h-px bg-[#2A2B30]"></div>

  <!-- About -->
  <section class="max-w-[1440px] mx-auto flex flex-col gap-12 py-20 px-6 lg:px-[120px]">
    <p class="font-mono text-[11px] font-semibold text-[#71717A]">// ABOUT</p>
    <div class="flex flex-col md:flex-row gap-16">
      <!-- Left: title + paragraphs -->
      <div class="flex-1 flex flex-col gap-6">
        <h2 class="text-[32px] font-bold text-[#F4F4F5]" style="font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.5px; line-height: 1.3; white-space: pre-line;">
          {about.title}
        </h2>
        {about.paragraphs.map((p) => (
          <p class="text-base text-[#71717A]" style="line-height: 1.7;">{p}</p>
        ))}
      </div>

      <!-- Right: principles + location -->
      <div class="w-full md:w-[380px] md:flex-shrink-0 flex flex-col gap-6">
        <!-- Principles terminal block -->
        <div class="bg-[#1E2026] border border-[#2A2B30] rounded p-6 flex flex-col gap-4">
          <p class="font-mono text-xs font-medium text-[#22C55E]">$ cat principles.txt</p>
          <div class="h-px bg-[#2A2B30] w-full"></div>
          <div class="flex flex-col gap-4">
            {about.principles.map((principle) => (
              <p class="font-mono text-[13px] text-[#A1A1AA]" style="line-height: 1.8;">&gt; {principle}</p>
            ))}
          </div>
        </div>

        <!-- Location block -->
        <div class="border border-[#2A2B30] rounded py-4 px-5 flex items-center gap-3">
          <svg class="w-[18px] h-[18px] text-[#22C55E] flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
            <circle cx="12" cy="10" r="3"/>
          </svg>
          <div class="flex flex-col gap-0.5">
            <p class="text-sm font-medium text-[#F4F4F5]">{about.location.city}</p>
            <p class="text-xs text-[#52525B]">{about.location.detail}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="h-px bg-[#2A2B30]"></div>

  <Footer />
</Layout>
